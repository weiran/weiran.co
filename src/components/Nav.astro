---
import { site } from '../config/site'

const pathname = Astro.url.pathname.replace(/\/$/, '') || '/'
---

<nav class="nav">
  {site.nav.map((page) => (
    <div class="nav-item">
      <a href={page.href} aria-current={pathname === page.href ? 'page' : undefined}>
        {page.name}
      </a>
    </div>
  ))}
</nav>

<style>
  .nav {
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    margin-top: 3.75rem;
  }

  .nav-item {
    flex: 1 1 auto;
    margin: 0 2.8125rem;
  }

  a[aria-current='page'] {
    text-decoration: underline;
  }
</style>
